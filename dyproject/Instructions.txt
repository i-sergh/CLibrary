получить объектные файлы с позиционно-независимым кодом (position independent code) в каталоге lib

gcc -c -fPIC source/*.c

Создаем библиотеку с помощью gcc с опцией -shared 

gcc -shared -o libNAMEHERE.so *.o

в каталоге stproject получаем объектные файлы

gcc -c *.c

компилируем, указывая расположение и имя библиотеки (без префикса lib и суффикса .a, НО С -l ПЕРЕД ИМЕНЕМ ) 

И обращаемся к линковщику Wl, через опцию -rpath указываем путь к библиотеке (только до папки)

в обращении к линковщику пробелы заменяются запятыми(пробелов нет)
gcc -o project *.o -L../ibrary -lNAMEHERE -Wl,-rpath,../lib/

готово

запускаем ./ и радуемся

